{"ast":null,"code":"var _jsxFileName = \"/Users/t/Documents/BLOCKCHAIN PROJECT/LiquidityPool-Test/front-end/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { isEmpty, message, connectWallet, getContract, tokenToWei } from './utils';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setUpUser, setUpWeb3, setUpRigelPool } from './store/action';\nimport { tokens, NETWORKS } from \"./constants/index\";\nimport * as ERC20Tokens from \"./contracts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const web3 = useSelector(state => state.web3);\n  const rigelpool = useSelector(state => state.rigelPool);\n  const user = useSelector(state => state.user);\n  const [data, setData] = useState({\n    token1: '',\n    token2: '',\n    amount1: '',\n    amount2: ''\n  });\n  const [images, setImages] = useState({\n    img1: '',\n    img2: ''\n  });\n  const dispatch = useDispatch();\n\n  const connectUser = async e => {\n    e.preventDefault();\n\n    if (isEmpty(web3.instance)) {\n      message(\"error\", \"No web3 instance found\");\n      return;\n    }\n\n    try {\n      const userData = await connectWallet(web3.instance);\n\n      if (!isEmpty(userData) && userData.length === 2) {\n        dispatch(setUpUser({\n          provider: userData[0],\n          address: userData[1],\n          status: \"connect\"\n        }));\n      }\n    } catch (error) {\n      message(\"error\", error.message);\n    }\n  };\n\n  const disconnectUser = async e => {\n    e.preventDefault();\n\n    if (isEmpty(web3.instance)) {\n      message(\"error\", \"Please install metamask\");\n      return;\n    }\n\n    dispatch(setUpUser({\n      status: \"disconnect\"\n    }));\n  };\n\n  const tokenSelectHandler = e => {\n    setData({ ...data,\n      [e.target.name]: e.target.value\n    });\n\n    if (e.target.name === 'token1' && !isEmpty(e.target.value)) {\n      setImages({ ...images,\n        img1: tokens[e.target.value].logo\n      });\n    }\n\n    if (e.target.name === 'token2' && !isEmpty(e.target.value)) {\n      setImages({ ...images,\n        img2: tokens[e.target.value].logo\n      });\n    }\n  };\n\n  const addLiquidity = async e => {\n    if (isEmpty(data.token1) || isEmpty(data.token2) || isEmpty(data.amount1) || isNaN(data.amount1) || isNaN(data.amount2) || isEmpty(data.amount2)) {\n      message('error', \"Please Enter/Select Valid Data\");\n      return;\n    }\n\n    if (data.token1 === data.token2) {\n      message('error', \"Please Enter/Select Valid Data\");\n      return;\n    }\n\n    const chainId = isEmpty(tokens[data.token1].address[NETWORKS[\"ACTIVE\"].chainId]) ? 5777 : NETWORKS[\"ACTIVE\"].chainId;\n    const obj = {\n      _token1: tokens[data.token1].address[chainId],\n      _token2: tokens[data.token2].address[chainId],\n      _amount1: data.amount1,\n      _amount2: data.amount2\n    };\n    const token1Obj = await getContract(user.provider, ERC20Tokens[data.token1.toUpperCase()]);\n    const token2Obj = await getContract(user.provider, ERC20Tokens[data.token2.toUpperCase()]);\n    let weiAmount1 = tokenToWei(data.amount1, tokens[data.token1].decimals);\n    let weiAmount2 = tokenToWei(data.amount2, tokens[data.token2].decimals); //check if the user has enough balance for this \n\n    const token1Balance = (await token1Obj.balanceOf(user.address)).toString();\n    const token2Balance = (await token2Obj.balanceOf(user.address)).toString();\n\n    if (parseFloat(weiAmount1.toString()) > parseFloat(token1Balance)) {\n      throw new Error(`You don't have sufficient ${data.token1.toUpperCase()} in your metamask wallet`);\n    }\n\n    if (parseFloat(weiAmount2.toString()) > parseFloat(token1Balance)) {\n      throw new Error(`You don't have sufficient ${data.token1.toUpperCase()} in your metamask wallet`);\n    }\n\n    const transaction = await rigelpool.instance.connect(user.provider).addLiquidity(obj, {\n      from: user.address\n    });\n    await transaction.wait();\n  }; //web3 setup\n\n\n  useEffect(() => {\n    const init = async () => {\n      dispatch(setUpWeb3());\n    };\n\n    init();\n    return () => {};\n  }, [dispatch]); //rigelpool setup\n\n  useEffect(() => {\n    const init = async () => {\n      if (isEmpty(web3.loading) && !isEmpty(web3.instance)) {\n        dispatch(setUpRigelPool());\n      }\n    };\n\n    init();\n    return () => {};\n  }, [dispatch, web3]); //user connection\n\n  useEffect(() => {\n    const init = async () => {\n      if (isEmpty(web3.loading) && !isEmpty(web3.instance)) {\n        try {\n          if (!isEmpty(localStorage.getItem('user'))) {\n            const userData = await connectWallet(web3.instance);\n\n            if (!isEmpty(userData) && userData.length === 2) {\n              dispatch(setUpUser({\n                provider: userData[0],\n                address: userData[1],\n                status: \"connect\"\n              }));\n            }\n          }\n        } catch (error) {\n          message(\"error\", error.message);\n        }\n      }\n    };\n\n    init();\n    return () => {};\n  }, [dispatch, web3]); //pool update\n\n  useEffect(() => {\n    const init = async () => {\n      console.log(data);\n\n      if (!isEmpty(data.token1) && !isEmpty(data.token2) && !isEmpty(rigelpool)) {\n        const token1 = isEmpty(tokens[data.token1].address[NETWORKS[\"ACTIVE\"].chainId]) ? tokens[data.token1].address[5777] : tokens[data.token1].address[NETWORKS[\"ACTIVE\"].chainId];\n        const token2 = isEmpty(tokens[data.token2].address[NETWORKS[\"ACTIVE\"].chainId]) ? tokens[data.token2].address[5777] : tokens[data.token2].address[NETWORKS[\"ACTIVE\"].chainId];\n        const pairLiquidity = await rigelpool.instance.connect(user.provider).getPairLiquidity(token1, token2, {\n          from: user.address\n        });\n        const providerLiquidity = await rigelpool.instance.connect(user.provider).getProviderLiquidity(token1, token2, {\n          from: user.address\n        });\n        console.log(pairLiquidity, providerLiquidity);\n      }\n    };\n\n    init();\n    return () => {};\n  }, [rigelpool, data]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row pt-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"h4\",\n            children: \"RigelPool\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6 text-right p-2\",\n          children: [isEmpty(user.address) ? /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: connectUser,\n            className: \"btn border text-light\",\n            children: \"Connect Wallet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 12\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: disconnectUser,\n            className: \"btn btn-danger border text-light\",\n            children: \"Disconnect Wallet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mt-2 d-block\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 44\n            }, this), \" : \", user.address]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row pt-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box col-12  col-md-5 offset-md-4 col-lg-5 offset-lg-4 p-0 card shadow \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header pt-5 pl-4 pr-4 pb-2 row \",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"icon col-2 col-md-1 col-lg-1  p-2\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-arrow-left\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content col-7 col-md-8 col-lg-8   pl-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Add Liquidity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Add liquidity to receive LP tokens\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"icon col-2  col-md-2 col-lg-2  p-2\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-cog\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"icon col-1  col-md-1 col-lg-1  p-2\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-refresh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row pl-5 pr-5 pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group col-md-12 col-sm-12 \",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [!isEmpty(images.img1) ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"img col-2  col-md-2  text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: images.img1,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 41\n                }, this) : '', /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-5 col-md-5 selectBox text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"select\", {\n                    onChange: tokenSelectHandler,\n                    name: \"token1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"Select a currency\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 191,\n                      columnNumber: 21\n                    }, this), Object.keys(tokens).map((data, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: data,\n                      children: tokens[data].symbol\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 192,\n                      columnNumber: 64\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input row\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"0.0\",\n                  className: \"form-control col-md-12 text-right\",\n                  onChange: tokenSelectHandler,\n                  name: \"amount1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group col-md-12 text-center  \",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-plus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group col-md-12 col-sm-12 \",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [!isEmpty(images.img2) ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"img col-2  col-md-2  text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: images.img2,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 41\n                }, this) : '', /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-5 col-md-5 selectBox text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"select\", {\n                    onChange: tokenSelectHandler,\n                    name: \"token2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"Select a currency\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 21\n                    }, this), Object.keys(tokens).map((data, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: data,\n                      children: tokens[data].symbol\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 64\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input row\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"0.0\",\n                  className: \"form-control col-md-12 text-right\",\n                  onChange: tokenSelectHandler,\n                  name: \"amount2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"display row pl-4 pr-4 pb-1 pt-1\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-12 info pt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Prices and pool share\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail row p-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-6 col-md-4 text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: \"257.525\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"BELT per BNB\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-6 col-md-4 text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: \"0.00388312\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"BNB per BELT\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-6 col-md-4 text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: \"0%\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 233,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"Share of Pool\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-12 p-3\",\n            children: isEmpty(user.address) ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: connectUser,\n              className: \"btn  d-block mainBtn\",\n              children: \"Connect Wallet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: addLiquidity,\n              disabled: isEmpty(data.token1) || isEmpty(data.token2) || isEmpty(data.amount1) || isEmpty(data.amount2) ? 'disabled' : '',\n              className: \"btn  d-block mainBtn\",\n              children: \"Enter an amount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"5/VWMY2dLzoDJzxlQ0yp0+wji/Y=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/t/Documents/BLOCKCHAIN PROJECT/LiquidityPool-Test/front-end/src/App.js"],"names":["React","useEffect","useState","isEmpty","message","connectWallet","getContract","tokenToWei","useSelector","useDispatch","setUpUser","setUpWeb3","setUpRigelPool","tokens","NETWORKS","ERC20Tokens","App","web3","state","rigelpool","rigelPool","user","data","setData","token1","token2","amount1","amount2","images","setImages","img1","img2","dispatch","connectUser","e","preventDefault","instance","userData","length","provider","address","status","error","disconnectUser","tokenSelectHandler","target","name","value","logo","addLiquidity","isNaN","chainId","obj","_token1","_token2","_amount1","_amount2","token1Obj","toUpperCase","token2Obj","weiAmount1","decimals","weiAmount2","token1Balance","balanceOf","toString","token2Balance","parseFloat","Error","transaction","connect","from","wait","init","loading","localStorage","getItem","console","log","pairLiquidity","getPairLiquidity","providerLiquidity","getProviderLiquidity","Object","keys","map","index","symbol"],"mappings":"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","sourcesContent":["\nimport React , {useEffect,useState} from \"react\";\nimport {isEmpty, message , connectWallet , getContract,tokenToWei} from './utils';\nimport {useSelector,useDispatch} from \"react-redux\";\nimport {setUpUser , setUpWeb3 , setUpRigelPool} from './store/action';\nimport {tokens,NETWORKS} from \"./constants/index\"\nimport * as ERC20Tokens from \"./contracts\"\n\n\nfunction App() {\n\n  const web3 = useSelector(state => state.web3);\n  const rigelpool  = useSelector(state => state.rigelPool);\n  const user = useSelector(state => state.user);\n  const [data , setData] = useState({token1 : '' , token2 : '' , amount1 : '' , amount2 : ''});\n  const [images , setImages] = useState({img1 : '' , img2:''})\n  const dispatch = useDispatch();\n\n\n  const connectUser = async (e) => {\n    e.preventDefault();\n    if(isEmpty(web3.instance)){message(\"error\" , \"No web3 instance found\");return}\n    try{\n      const userData = await connectWallet(web3.instance);\n      if (!isEmpty(userData) && userData.length === 2) {\n        dispatch(setUpUser({provider : userData[0] , address : userData[1] ,  status : \"connect\"}));\n      }\n    }catch(error){\n      message(\"error\" , error.message);\n    }\n  };\n  \n  const disconnectUser = async (e) => {\n    e.preventDefault();\n    if(isEmpty(web3.instance)){message(\"error\" , \"Please install metamask\"); return}\n    dispatch(setUpUser({status : \"disconnect\"}));\n  };\n\n  \n  const tokenSelectHandler = (e) => {\n    setData({...data, [e.target.name] : e.target.value});\n    if(e.target.name === 'token1' && !isEmpty(e.target.value)){\n      setImages({...images,img1 : tokens[e.target.value].logo});\n    }\n\n    if(e.target.name === 'token2' && !isEmpty(e.target.value)){\n      setImages({...images,img2 : tokens[e.target.value].logo});\n    }\n  }\n\n  const addLiquidity = async (e) => {\n     if(isEmpty(data.token1) || isEmpty(data.token2) || isEmpty(data.amount1) || isNaN(data.amount1) || isNaN(data.amount2) || isEmpty(data.amount2) ){\n       message('error',\"Please Enter/Select Valid Data\");\n       return;\n     }\n\n     if(data.token1 === data.token2 ){\n      message('error',\"Please Enter/Select Valid Data\");\n      return;\n     }\n\n     const chainId = isEmpty(tokens[data.token1].address[NETWORKS[\"ACTIVE\"].chainId]) ? 5777 : NETWORKS[\"ACTIVE\"].chainId\n     const obj = {\n        _token1 : tokens[data.token1].address[chainId] ,\n        _token2 : tokens[data.token2].address[chainId],\n        _amount1 : data.amount1,\n        _amount2 : data.amount2,\n      }\n     const token1Obj = await getContract(user.provider,ERC20Tokens[data.token1.toUpperCase()]);\n     const token2Obj = await getContract(user.provider,ERC20Tokens[data.token2.toUpperCase()]);\n     let weiAmount1 = tokenToWei(data.amount1,tokens[data.token1].decimals);\n     let weiAmount2 = tokenToWei(data.amount2,tokens[data.token2].decimals);\n\n     //check if the user has enough balance for this \n     const token1Balance = (await token1Obj.balanceOf(user.address)).toString();\n     const token2Balance = (await token2Obj.balanceOf(user.address)).toString();\n     if(parseFloat(weiAmount1.toString()) > parseFloat(token1Balance)){throw new Error(`You don't have sufficient ${data.token1.toUpperCase()} in your metamask wallet`)}\n     if(parseFloat(weiAmount2.toString()) > parseFloat(token1Balance)){throw new Error(`You don't have sufficient ${data.token1.toUpperCase()} in your metamask wallet`)}\n\n      \n     const transaction = await ((rigelpool.instance).connect(user.provider)).addLiquidity(obj, {from : user.address});\n     await transaction.wait();\n  }\n\n    //web3 setup\n    useEffect(() => {\n      const init = async () => {\n          dispatch(setUpWeb3());\n      }\n     init();\n    return () => {\n       \n    }\n  }, [dispatch])\n\n    //rigelpool setup\n    useEffect(()=>{\n      const init = async () => {\n         if(isEmpty(web3.loading) && !isEmpty(web3.instance)){\n           dispatch(setUpRigelPool());\n         }\n      }\n      init();\n      return () => { }\n   },[dispatch , web3])\n\n\n  //user connection\n  useEffect(()=>{\n    const init = async () => {\n      if(isEmpty(web3.loading) && !isEmpty(web3.instance)){\n          try{\n            if (!isEmpty(localStorage.getItem('user'))) {\n              const userData = await connectWallet(web3.instance);\n              if (!isEmpty(userData) && userData.length === 2) {\n                dispatch(setUpUser({provider : userData[0] , address : userData[1] ,  status : \"connect\"}));\n              }\n            }\n          }catch(error){\n            message(\"error\" , error.message)\n          }\n        }\n    }\n      init();\n      return () => {  }\n  },[dispatch , web3])\n\n\n      //pool update\n      useEffect(() => {\n        const init = async () => {\n          console.log(data)\n          if(!isEmpty(data.token1) && !isEmpty(data.token2) && !isEmpty(rigelpool)){\n            const token1 = isEmpty(tokens[data.token1].address[NETWORKS[\"ACTIVE\"].chainId]) ? tokens[data.token1].address[5777] :tokens[data.token1].address[NETWORKS[\"ACTIVE\"].chainId];\n            const token2 =  isEmpty(tokens[data.token2].address[NETWORKS[\"ACTIVE\"].chainId]) ? tokens[data.token2].address[5777] :tokens[data.token2].address[NETWORKS[\"ACTIVE\"].chainId];\n            const pairLiquidity =  await ((rigelpool.instance).connect(user.provider)).getPairLiquidity(token1,token2, {from : user.address});\n            const providerLiquidity =  await ((rigelpool.instance).connect(user.provider)).getProviderLiquidity(token1,token2, {from : user.address});\n            console.log(pairLiquidity,providerLiquidity);\n          }\n        }\n       init();\n      return () => {\n         \n      }\n    }, [rigelpool , data])\n\n\n  return (\n    <div className=\"wrapper\">\n    <div className=\"container\">\n      <div className=\"row pt-1\">\n        <div className=\"col-6\">\n          <h1 className=\"h4\">RigelPool</h1>\n        </div>\n        <div className=\"col-6 text-right p-2\">\n       { isEmpty(user.address) ? (\n           <button onClick={connectUser} className=\"btn border text-light\">Connect Wallet</button>\n       ) : (<button onClick={disconnectUser} className=\"btn btn-danger border text-light\">Disconnect Wallet\n       </button>) }\n          <span  className=\"mt-2 d-block\"> <b>Address</b> : {user.address}</span>\n          </div>\n      </div>\n    </div>\n    <div className=\"container\">\n      <div className=\"row pt-5\">\n        <div className=\"box col-12  col-md-5 offset-md-4 col-lg-5 offset-lg-4 p-0 card shadow \">\n          <div className=\"header pt-5 pl-4 pr-4 pb-2 row \">\n            <div className=\"icon col-2 col-md-1 col-lg-1  p-2\">\n              <i className=\"fa fa-arrow-left\" />\n            </div>\n            <div className=\"content col-7 col-md-8 col-lg-8   pl-4\">\n              <h3 >Add Liquidity</h3>\n              <span >Add liquidity to receive LP tokens</span>\n            </div>\n            <div className=\"icon col-2  col-md-2 col-lg-2  p-2\">\n              <i className=\"fa fa-cog\" />\n            </div>\n            <div className=\"icon col-1  col-md-1 col-lg-1  p-2\">\n              <i className=\"fa fa-refresh\" />\n            </div>\n          </div>\n          <div className=\"row pl-5 pr-5 pt-4\">\n            <div className=\"form-group col-md-12 col-sm-12 \">\n              <div className=\"row\">\n              {!isEmpty(images.img1) ? (<div className=\"img col-2  col-md-2  text-center\">\n                  <img src={images.img1} alt=\"\" />\n                </div>) :'' }\n\n                <div className=\"col-5 col-md-5 selectBox text-center\">\n                  <select onChange={tokenSelectHandler} name=\"token1\">\n                    <option value=\"\">Select a currency</option>\n                    { Object.keys(tokens).map((data,index )=> (<option key={index} value={data}>{tokens[data].symbol}</option>))}\n                  </select>\n                </div>\n              </div>\n              <div className=\"input row\">\n                <input type=\"text\" placeholder=\"0.0\" className=\"form-control col-md-12 text-right\" onChange={tokenSelectHandler} name=\"amount1\"/>\n              </div>\n            </div>\n            <div className=\"form-group col-md-12 text-center  \"> \n              <i className=\"fa fa-plus\" />\n            </div>\n            <div className=\"form-group col-md-12 col-sm-12 \">\n              <div className=\"row\">\n              {!isEmpty(images.img2) ? (<div className=\"img col-2  col-md-2  text-center\">\n                  <img src={images.img2} alt=\"\" />\n                </div>) : '' }\n                <div className=\"col-5 col-md-5 selectBox text-center\">\n                  <select onChange={tokenSelectHandler} name=\"token2\">\n                    <option value=\"\">Select a currency</option>\n                    { Object.keys(tokens).map((data,index )=> (<option key={index} value={data}>{tokens[data].symbol}</option>))}\n                  </select>\n                </div>\n              </div>\n              <div className=\"input row\">\n                <input type=\"text\" placeholder=\"0.0\" className=\"form-control col-md-12 text-right\"  onChange={tokenSelectHandler} name=\"amount2\" />\n              </div>\n            </div>\n          </div>\n          <div className=\"display row pl-4 pr-4 pb-1 pt-1\">\n            <div className=\"col-md-12 info pt-3\">\n              <h4>Prices and pool share</h4>\n              <div className=\"detail row p-3\">\n                <div className=\"col-6 col-md-4 text-center\">\n                  <h4>257.525</h4>\n                  <p>BELT per BNB</p>\n                </div>\n                <div className=\"col-6 col-md-4 text-center\">\n                  <h4>0.00388312</h4>\n                  <p>BNB per BELT</p>\n                </div>\n                <div className=\"col-6 col-md-4 text-center\">\n                  <h4>0%</h4>\n                  <p>Share of Pool</p>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-md-12 p-3\">\n            {isEmpty(user.address) ? (\n              <button  onClick={connectUser} className=\"btn  d-block mainBtn\">Connect Wallet</button>\n            ) : (<button  onClick={addLiquidity} disabled={(isEmpty(data.token1) || isEmpty(data.token2) || isEmpty(data.amount1) || isEmpty(data.amount2) ) ? 'disabled' : '' } className=\"btn  d-block mainBtn\">Enter an amount</button>)}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}