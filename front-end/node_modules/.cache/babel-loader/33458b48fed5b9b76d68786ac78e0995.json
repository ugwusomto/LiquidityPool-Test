{"ast":null,"code":"var _jsxFileName = \"/Users/t/Documents/BLOCKCHAIN PROJECT/LiquidityPool-Test/front-end/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { isEmpty, message, connectWallet } from './utils';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setUpUser, setUpWeb3, setUpRigelPool } from './store/action';\nimport { tokens, NETWORKS } from \"./constants/index\";\nimport * as ERC20Tokens from \"./contracts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const web3 = useSelector(state => state.web3);\n  const rigelpool = useSelector(state => state.rigelPool);\n  const user = useSelector(state => state.user);\n  const [data, setData] = useState({\n    token1: '',\n    token2: '',\n    amount1: '',\n    amount2: ''\n  });\n  const [images, setImages] = useState({\n    img1: '',\n    img2: ''\n  });\n  const dispatch = useDispatch();\n\n  const connectUser = async e => {\n    e.preventDefault();\n\n    if (isEmpty(web3.instance)) {\n      message(\"error\", \"No web3 instance found\");\n      return;\n    }\n\n    try {\n      const userData = await connectWallet(web3.instance);\n\n      if (!isEmpty(userData) && userData.length === 2) {\n        dispatch(setUpUser({\n          provider: userData[0],\n          address: userData[1],\n          status: \"connect\"\n        }));\n      }\n    } catch (error) {\n      message(\"error\", error.message);\n    }\n  };\n\n  const disconnectUser = async e => {\n    e.preventDefault();\n\n    if (isEmpty(web3.instance)) {\n      message(\"error\", \"Please install metamask\");\n      return;\n    }\n\n    dispatch(setUpUser({\n      status: \"disconnect\"\n    }));\n  };\n\n  const tokenSelectHandler = e => {\n    setData({ ...data,\n      [e.target.name]: e.target.value\n    });\n\n    if (e.target.name === 'token1' && !isEmpty(e.target.value)) {\n      setImages({ ...images,\n        img1: tokens[e.target.value].logo\n      });\n    }\n\n    if (e.target.name === 'token2' && !isEmpty(e.target.value)) {\n      setImages({ ...images,\n        img2: tokens[e.target.value].logo\n      });\n    }\n  };\n\n  const addLiquidity = async e => {\n    if (isEmpty(data.token1) || isEmpty(data.token2) || isEmpty(data.amount1) || isNaN(data.amount1) || isNaN(data.amount2) || isEmpty(data.amount2)) {\n      message('error', \"Please Enter/Select Valid Data\");\n      return;\n    }\n\n    if (data.token1 === data.token2) {\n      message('error', \"Please Enter/Select Valid Data\");\n      return;\n    }\n\n    const obj = {\n      _token1: isEmpty(tokens[data.token1].address[NETWORKS[\"ACTIVE\"].chainId]) ? tokens[data.token1].address[5777] : tokens[data.token1].address[NETWORKS[\"ACTIVE\"].chainId],\n      _token2: isEmpty(tokens[data.token2].address[NETWORKS[\"ACTIVE\"].chainId]) ? tokens[data.token2].address[5777] : tokens[data.token2].address[NETWORKS[\"ACTIVE\"].chainId],\n      _amount1: data.amount1,\n      _amount2: data.amount2\n    };\n    const transaction = await rigelpool.instance.connect(user.provider).addLiquidity(obj, {\n      from: user.address\n    });\n    await transaction.wait();\n  }; //web3 setup\n\n\n  useEffect(() => {\n    const init = async () => {\n      dispatch(setUpWeb3());\n    };\n\n    init();\n    return () => {};\n  }, [dispatch]); //rigelpool setup\n\n  useEffect(() => {\n    const init = async () => {\n      if (isEmpty(web3.loading) && !isEmpty(web3.instance)) {\n        dispatch(setUpRigelPool());\n      }\n    };\n\n    init();\n    return () => {};\n  }, [dispatch, web3]); //user connection\n\n  useEffect(() => {\n    const init = async () => {\n      if (isEmpty(web3.loading) && !isEmpty(web3.instance)) {\n        try {\n          if (!isEmpty(localStorage.getItem('user'))) {\n            const userData = await connectWallet(web3.instance);\n\n            if (!isEmpty(userData) && userData.length === 2) {\n              dispatch(setUpUser({\n                provider: userData[0],\n                address: userData[1],\n                status: \"connect\"\n              }));\n            }\n          }\n        } catch (error) {\n          message(\"error\", error.message);\n        }\n      }\n    };\n\n    init();\n    return () => {};\n  }, [dispatch, web3]); //pool update\n\n  useEffect(() => {\n    const init = async () => {\n      console.log(data);\n\n      if (!isEmpty(data.token1) && !isEmpty(data.token2) && !isEmpty(rigelpool)) {\n        const token1 = isEmpty(tokens[data.token1].address[NETWORKS[\"ACTIVE\"].chainId]) ? tokens[data.token1].address[5777] : tokens[data.token1].address[NETWORKS[\"ACTIVE\"].chainId];\n        const token2 = isEmpty(tokens[data.token2].address[NETWORKS[\"ACTIVE\"].chainId]) ? tokens[data.token2].address[5777] : tokens[data.token2].address[NETWORKS[\"ACTIVE\"].chainId];\n        const pairLiquidity = await rigelpool.instance.connect(user.provider).getPairLiquidity(token1, token2, {\n          from: user.address\n        });\n        const providerLiquidity = await rigelpool.instance.connect(user.provider).getProviderLiquidity(token1, token2, {\n          from: user.address\n        });\n        console.log(pairLiquidity, providerLiquidity);\n      }\n    };\n\n    init();\n    return () => {};\n  }, [rigelpool, data]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row pt-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"h4\",\n            children: \"RigelPool\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6 text-right p-2\",\n          children: [isEmpty(user.address) ? /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: connectUser,\n            className: \"btn border text-light\",\n            children: \"Connect Wallet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 12\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: disconnectUser,\n            className: \"btn btn-danger border text-light\",\n            children: \"Disconnect Wallet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mt-2 d-block\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 44\n            }, this), \" : \", user.address]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row pt-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box col-12  col-md-5 offset-md-4 col-lg-5 offset-lg-4 p-0 card shadow \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header pt-5 pl-4 pr-4 pb-2 row \",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"icon col-2 col-md-1 col-lg-1  p-2\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-arrow-left\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content col-7 col-md-8 col-lg-8   pl-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Add Liquidity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Add liquidity to receive LP tokens\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"icon col-2  col-md-2 col-lg-2  p-2\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-cog\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"icon col-1  col-md-1 col-lg-1  p-2\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-refresh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row pl-5 pr-5 pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group col-md-12 col-sm-12 \",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [!isEmpty(images.img1) ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"img col-2  col-md-2  text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: images.img1,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 41\n                }, this) : '', /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-5 col-md-5 selectBox text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"select\", {\n                    onChange: tokenSelectHandler,\n                    name: \"token1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"Select a currency\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 178,\n                      columnNumber: 21\n                    }, this), Object.keys(tokens).map((data, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: data,\n                      children: tokens[data].symbol\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 179,\n                      columnNumber: 64\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input row\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"0.0\",\n                  className: \"form-control col-md-12 text-right\",\n                  onChange: tokenSelectHandler,\n                  name: \"amount1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group col-md-12 text-center  \",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-plus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group col-md-12 col-sm-12 \",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [!isEmpty(images.img2) ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"img col-2  col-md-2  text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: images.img2,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 41\n                }, this) : '', /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-5 col-md-5 selectBox text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"select\", {\n                    onChange: tokenSelectHandler,\n                    name: \"token2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"Select a currency\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 197,\n                      columnNumber: 21\n                    }, this), Object.keys(tokens).map((data, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: data,\n                      children: tokens[data].symbol\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 198,\n                      columnNumber: 64\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input row\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"0.0\",\n                  className: \"form-control col-md-12 text-right\",\n                  onChange: tokenSelectHandler,\n                  name: \"amount2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"display row pl-4 pr-4 pb-1 pt-1\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-12 info pt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Prices and pool share\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail row p-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-6 col-md-4 text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: \"257.525\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"BELT per BNB\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-6 col-md-4 text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: \"0.00388312\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"BNB per BELT\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-6 col-md-4 text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: \"0%\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 220,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"Share of Pool\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-12 p-3\",\n            children: isEmpty(user.address) ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: connectUser,\n              className: \"btn  d-block mainBtn\",\n              children: \"Connect Wallet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: addLiquidity,\n              disabled: isEmpty(data.token1) || isEmpty(data.token2) || isEmpty(data.amount1) || isEmpty(data.amount2) ? 'disabled' : '',\n              className: \"btn  d-block mainBtn\",\n              children: \"Enter an amount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"5/VWMY2dLzoDJzxlQ0yp0+wji/Y=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/t/Documents/BLOCKCHAIN PROJECT/LiquidityPool-Test/front-end/src/App.js"],"names":["React","useEffect","useState","isEmpty","message","connectWallet","useSelector","useDispatch","setUpUser","setUpWeb3","setUpRigelPool","tokens","NETWORKS","ERC20Tokens","App","web3","state","rigelpool","rigelPool","user","data","setData","token1","token2","amount1","amount2","images","setImages","img1","img2","dispatch","connectUser","e","preventDefault","instance","userData","length","provider","address","status","error","disconnectUser","tokenSelectHandler","target","name","value","logo","addLiquidity","isNaN","obj","_token1","chainId","_token2","_amount1","_amount2","transaction","connect","from","wait","init","loading","localStorage","getItem","console","log","pairLiquidity","getPairLiquidity","providerLiquidity","getProviderLiquidity","Object","keys","map","index","symbol"],"mappings":"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","sourcesContent":["\nimport React , {useEffect,useState} from \"react\";\nimport {isEmpty, message , connectWallet} from './utils';\nimport {useSelector,useDispatch} from \"react-redux\";\nimport {setUpUser , setUpWeb3 , setUpRigelPool} from './store/action';\nimport {tokens,NETWORKS} from \"./constants/index\"\nimport * as ERC20Tokens from \"./contracts\"\n\nfunction App() {\n\n  const web3 = useSelector(state => state.web3);\n  const rigelpool  = useSelector(state => state.rigelPool);\n  const user = useSelector(state => state.user);\n  const [data , setData] = useState({token1 : '' , token2 : '' , amount1 : '' , amount2 : ''});\n  const [images , setImages] = useState({img1 : '' , img2:''})\n\n\n  const dispatch = useDispatch();\n\n\n  const connectUser = async (e) => {\n    e.preventDefault();\n    if(isEmpty(web3.instance)){message(\"error\" , \"No web3 instance found\");return}\n    try{\n      const userData = await connectWallet(web3.instance);\n      if (!isEmpty(userData) && userData.length === 2) {\n        dispatch(setUpUser({provider : userData[0] , address : userData[1] ,  status : \"connect\"}));\n      }\n    }catch(error){\n      message(\"error\" , error.message);\n    }\n  };\n  \n  const disconnectUser = async (e) => {\n    e.preventDefault();\n    if(isEmpty(web3.instance)){message(\"error\" , \"Please install metamask\"); return}\n    dispatch(setUpUser({status : \"disconnect\"}));\n  };\n\n  \n  const tokenSelectHandler = (e) => {\n    setData({...data, [e.target.name] : e.target.value});\n    if(e.target.name === 'token1' && !isEmpty(e.target.value)){\n      setImages({...images,img1 : tokens[e.target.value].logo});\n    }\n\n    if(e.target.name === 'token2' && !isEmpty(e.target.value)){\n      setImages({...images,img2 : tokens[e.target.value].logo});\n    }\n  }\n\n  const addLiquidity = async (e) => {\n     if(isEmpty(data.token1) || isEmpty(data.token2) || isEmpty(data.amount1) || isNaN(data.amount1) || isNaN(data.amount2) || isEmpty(data.amount2) ){\n       message('error',\"Please Enter/Select Valid Data\");\n       return;\n     }\n\n     if(data.token1 === data.token2 ){\n      message('error',\"Please Enter/Select Valid Data\");\n      return;\n     }\n     const obj = {\n        _token1 : isEmpty(tokens[data.token1].address[NETWORKS[\"ACTIVE\"].chainId]) ? tokens[data.token1].address[5777] :tokens[data.token1].address[NETWORKS[\"ACTIVE\"].chainId],\n        _token2 : isEmpty(tokens[data.token2].address[NETWORKS[\"ACTIVE\"].chainId]) ? tokens[data.token2].address[5777] :tokens[data.token2].address[NETWORKS[\"ACTIVE\"].chainId],\n        _amount1 : data.amount1,\n        _amount2 : data.amount2,\n      }\n     const transaction = await ((rigelpool.instance).connect(user.provider)).addLiquidity(obj, {from : user.address});\n     await transaction.wait();\n  }\n\n    //web3 setup\n    useEffect(() => {\n      const init = async () => {\n          dispatch(setUpWeb3());\n      }\n     init();\n    return () => {\n       \n    }\n  }, [dispatch])\n\n    //rigelpool setup\n    useEffect(()=>{\n      const init = async () => {\n         if(isEmpty(web3.loading) && !isEmpty(web3.instance)){\n           dispatch(setUpRigelPool());\n         }\n      }\n      init();\n      return () => { }\n   },[dispatch , web3])\n\n\n  //user connection\n  useEffect(()=>{\n    const init = async () => {\n      if(isEmpty(web3.loading) && !isEmpty(web3.instance)){\n          try{\n            if (!isEmpty(localStorage.getItem('user'))) {\n              const userData = await connectWallet(web3.instance);\n              if (!isEmpty(userData) && userData.length === 2) {\n                dispatch(setUpUser({provider : userData[0] , address : userData[1] ,  status : \"connect\"}));\n              }\n            }\n          }catch(error){\n            message(\"error\" , error.message)\n          }\n        }\n    }\n      init();\n      return () => {  }\n  },[dispatch , web3])\n\n\n      //pool update\n      useEffect(() => {\n        const init = async () => {\n          console.log(data)\n          if(!isEmpty(data.token1) && !isEmpty(data.token2) && !isEmpty(rigelpool)){\n            const token1 = isEmpty(tokens[data.token1].address[NETWORKS[\"ACTIVE\"].chainId]) ? tokens[data.token1].address[5777] :tokens[data.token1].address[NETWORKS[\"ACTIVE\"].chainId];\n            const token2 =  isEmpty(tokens[data.token2].address[NETWORKS[\"ACTIVE\"].chainId]) ? tokens[data.token2].address[5777] :tokens[data.token2].address[NETWORKS[\"ACTIVE\"].chainId];\n            const pairLiquidity =  await ((rigelpool.instance).connect(user.provider)).getPairLiquidity(token1,token2, {from : user.address});\n            const providerLiquidity =  await ((rigelpool.instance).connect(user.provider)).getProviderLiquidity(token1,token2, {from : user.address});\n            console.log(pairLiquidity,providerLiquidity);\n          }\n        }\n       init();\n      return () => {\n         \n      }\n    }, [rigelpool , data])\n\n\n  return (\n    <div className=\"wrapper\">\n    <div className=\"container\">\n      <div className=\"row pt-1\">\n        <div className=\"col-6\">\n          <h1 className=\"h4\">RigelPool</h1>\n        </div>\n        <div className=\"col-6 text-right p-2\">\n       { isEmpty(user.address) ? (\n           <button onClick={connectUser} className=\"btn border text-light\">Connect Wallet</button>\n       ) : (<button onClick={disconnectUser} className=\"btn btn-danger border text-light\">Disconnect Wallet\n       </button>) }\n          <span  className=\"mt-2 d-block\"> <b>Address</b> : {user.address}</span>\n          </div>\n      </div>\n    </div>\n    <div className=\"container\">\n      <div className=\"row pt-5\">\n        <div className=\"box col-12  col-md-5 offset-md-4 col-lg-5 offset-lg-4 p-0 card shadow \">\n          <div className=\"header pt-5 pl-4 pr-4 pb-2 row \">\n            <div className=\"icon col-2 col-md-1 col-lg-1  p-2\">\n              <i className=\"fa fa-arrow-left\" />\n            </div>\n            <div className=\"content col-7 col-md-8 col-lg-8   pl-4\">\n              <h3 >Add Liquidity</h3>\n              <span >Add liquidity to receive LP tokens</span>\n            </div>\n            <div className=\"icon col-2  col-md-2 col-lg-2  p-2\">\n              <i className=\"fa fa-cog\" />\n            </div>\n            <div className=\"icon col-1  col-md-1 col-lg-1  p-2\">\n              <i className=\"fa fa-refresh\" />\n            </div>\n          </div>\n          <div className=\"row pl-5 pr-5 pt-4\">\n            <div className=\"form-group col-md-12 col-sm-12 \">\n              <div className=\"row\">\n              {!isEmpty(images.img1) ? (<div className=\"img col-2  col-md-2  text-center\">\n                  <img src={images.img1} alt=\"\" />\n                </div>) :'' }\n\n                <div className=\"col-5 col-md-5 selectBox text-center\">\n                  <select onChange={tokenSelectHandler} name=\"token1\">\n                    <option value=\"\">Select a currency</option>\n                    { Object.keys(tokens).map((data,index )=> (<option key={index} value={data}>{tokens[data].symbol}</option>))}\n                  </select>\n                </div>\n              </div>\n              <div className=\"input row\">\n                <input type=\"text\" placeholder=\"0.0\" className=\"form-control col-md-12 text-right\" onChange={tokenSelectHandler} name=\"amount1\"/>\n              </div>\n            </div>\n            <div className=\"form-group col-md-12 text-center  \"> \n              <i className=\"fa fa-plus\" />\n            </div>\n            <div className=\"form-group col-md-12 col-sm-12 \">\n              <div className=\"row\">\n              {!isEmpty(images.img2) ? (<div className=\"img col-2  col-md-2  text-center\">\n                  <img src={images.img2} alt=\"\" />\n                </div>) : '' }\n                <div className=\"col-5 col-md-5 selectBox text-center\">\n                  <select onChange={tokenSelectHandler} name=\"token2\">\n                    <option value=\"\">Select a currency</option>\n                    { Object.keys(tokens).map((data,index )=> (<option key={index} value={data}>{tokens[data].symbol}</option>))}\n                  </select>\n                </div>\n              </div>\n              <div className=\"input row\">\n                <input type=\"text\" placeholder=\"0.0\" className=\"form-control col-md-12 text-right\"  onChange={tokenSelectHandler} name=\"amount2\" />\n              </div>\n            </div>\n          </div>\n          <div className=\"display row pl-4 pr-4 pb-1 pt-1\">\n            <div className=\"col-md-12 info pt-3\">\n              <h4>Prices and pool share</h4>\n              <div className=\"detail row p-3\">\n                <div className=\"col-6 col-md-4 text-center\">\n                  <h4>257.525</h4>\n                  <p>BELT per BNB</p>\n                </div>\n                <div className=\"col-6 col-md-4 text-center\">\n                  <h4>0.00388312</h4>\n                  <p>BNB per BELT</p>\n                </div>\n                <div className=\"col-6 col-md-4 text-center\">\n                  <h4>0%</h4>\n                  <p>Share of Pool</p>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-md-12 p-3\">\n            {isEmpty(user.address) ? (\n              <button  onClick={connectUser} className=\"btn  d-block mainBtn\">Connect Wallet</button>\n            ) : (<button  onClick={addLiquidity} disabled={(isEmpty(data.token1) || isEmpty(data.token2) || isEmpty(data.amount1) || isEmpty(data.amount2) ) ? 'disabled' : '' } className=\"btn  d-block mainBtn\">Enter an amount</button>)}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}